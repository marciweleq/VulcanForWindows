<Page
    x:Class="VulcanForWindows.MainPanelPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:VulcanForWindows"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:g="using:VulcanForWindows.Classes"
    xmlns:grade="using:Vulcanova.Features.Grades" 
    mc:Ignorable="d">

    <Page.Resources>
        <Style TargetType="Grid" x:Key="Panel">
            <Setter Property="Background" Value="{StaticResource LayerOnAccentAcrylicFillColorDefault}"/>
            <Setter Property="Padding" Value="10"/>
            <Setter Property="CornerRadius" Value="5"/>
            <Setter Property="Margin" Value="10"/>
        </Style>
        <Style TargetType="StackPanel" x:Key="TitleStack">
            <Setter Property="Margin" Value="3"/>
            <Setter Property="Orientation" Value="Horizontal"/>
            <Setter Property="Spacing" Value="8"/>
        </Style>
        <Style TargetType="TextBlock" x:Key="HeaderText">
            <Setter Property="FontSize" Value="18"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>
        <Style TargetType="Image" x:Key="HeaderImage">
            <Setter Property="Height" Value="22"/>
            <Setter Property="Width" Value="22"/>
        </Style>
    </Page.Resources>

    <GridView SelectionMode="None">
        <Grid Style="{StaticResource Panel}" x:Name="GradesPanel">
            <Grid.RowDefinitions>
                <RowDefinition Height="42"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <StackPanel Style="{StaticResource TitleStack}">
                <Image Source="/Assets/GradesIcon.png" Style="{StaticResource HeaderImage}"/>
                <TextBlock Style="{StaticResource HeaderText}">Oceny</TextBlock>
            </StackPanel>
            <ListView ItemsSource="{x:Bind sg}" Grid.Row="1" ItemClick="ListView_ItemClick">

                <ListView.ItemTemplate>
                    <DataTemplate x:DataType="g:SubjectGrades">
                        <StackPanel Orientation="Horizontal" Height="32">
                            <TextBlock Text="{x:Bind subject.Name}" VerticalAlignment="Center"/>
                            <ItemsRepeater ItemsSource="{x:Bind grades}">
                                <ItemsRepeater.Layout>
                                    <StackLayout Orientation="Horizontal"/>
                                </ItemsRepeater.Layout>
                                <ItemsRepeater.ItemTemplate>
                                    <DataTemplate x:DataType="grade:Grade">
                                        <!--<Grid Width="35" Height="35" >-->
                                        <Border Height="32" Width="32" Padding="8" 
                                                Background="{StaticResource LayerOnMicaBaseAltFillColorDefault}" 
                                                VerticalAlignment="Center"
                                                Margin="5,0,0,0" CornerRadius="4">
                                            <TextBlock 
                                            Text="{x:Bind Content}"
                                            TextAlignment="Center" VerticalAlignment="Center"
                                            />
                                            <!--</Grid>-->
                                        </Border>
                                    </DataTemplate>
                                </ItemsRepeater.ItemTemplate>
                            </ItemsRepeater>
                        </StackPanel>
                    </DataTemplate>
                </ListView.ItemTemplate>
            </ListView>
        </Grid>
    </GridView>
</Page>
